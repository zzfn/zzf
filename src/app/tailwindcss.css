@import 'tailwindcss';

@plugin "@tailwindcss/typography";

@keyframes shimmer {
  0% {
    background-position: -1000px 0;
  }
  100% {
    background-position: 1000px 0;
  }
}

@keyframes fade-in {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}

@keyframes slide-up {
  0% {
    transform: translateY(10px);
    opacity: 0;
  }
  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes scale-in {
  0% {
    transform: scale(0.95);
    opacity: 0;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes logo-spin {
  0% {
    transform: rotate(0turn);
  }
  100% {
    transform: rotate(666turn);
  }
}

.logo-spin-hover:hover {
  animation: logo-spin 59s cubic-bezier(0.34, 0, 0.84, 1) 1s forwards;
}

@theme inline {
  /* Foreground */
  --color-fg-accent: var(--fgColor-accent);
  --color-fg-attention: var(--fgColor-attention);
  --color-fg-black: var(--fgColor-black);
  --color-fg-closed: var(--fgColor-closed);
  --color-fg-danger: var(--fgColor-danger);
  --color-fg-default: var(--fgColor-default);
  --color-fg-disabled: var(--fgColor-disabled);
  --color-fg-done: var(--fgColor-done);
  --color-fg-draft: var(--fgColor-draft);
  --color-fg-link: var(--fgColor-link);
  --color-fg-muted: var(--fgColor-muted);
  --color-fg-neutral: var(--fgColor-neutral);
  --color-fg-onEmphasis: var(--fgColor-onEmphasis);
  --color-fg-onInverse: var(--fgColor-onInverse);
  --color-fg-open: var(--fgColor-open);
  --color-fg-severe: var(--fgColor-severe);
  --color-fg-sponsors: var(--fgColor-sponsors);
  --color-fg-success: var(--fgColor-success);
  --color-fg-upsell: var(--fgColor-upsell);
  --color-fg-white: var(--fgColor-white);

  /* Background */
  --color-bg-accent-emphasis: var(--bgColor-accent-emphasis);
  --color-bg-accent-muted: var(--bgColor-accent-muted);
  --color-bg-attention-emphasis: var(--bgColor-attention-emphasis);
  --color-bg-attention-muted: var(--bgColor-attention-muted);
  --color-bg-black: var(--bgColor-black);
  --color-bg-closed-emphasis: var(--bgColor-closed-emphasis);
  --color-bg-closed-muted: var(--bgColor-closed-muted);
  --color-bg-danger-emphasis: var(--bgColor-danger-emphasis);
  --color-bg-danger-muted: var(--bgColor-danger-muted);
  --color-bg-default: var(--bgColor-default);
  --color-bg-disabled: var(--bgColor-disabled);
  --color-bg-done-emphasis: var(--bgColor-done-emphasis);
  --color-bg-done-muted: var(--bgColor-done-muted);
  --color-bg-draft-emphasis: var(--bgColor-draft-emphasis);
  --color-bg-draft-muted: var(--bgColor-draft-muted);
  --color-bg-emphasis: var(--bgColor-emphasis);
  --color-bg-inset: var(--bgColor-inset);
  --color-bg-inverse: var(--bgColor-inverse);
  --color-bg-muted: var(--bgColor-muted);
  --color-bg-neutral-emphasis: var(--bgColor-neutral-emphasis);
  --color-bg-neutral-muted: var(--bgColor-neutral-muted);
  --color-bg-open-emphasis: var(--bgColor-open-emphasis);
  --color-bg-open-muted: var(--bgColor-open-muted);
  --color-bg-severe-emphasis: var(--bgColor-severe-emphasis);
  --color-bg-severe-muted: var(--bgColor-severe-muted);
  --color-bg-sponsors-emphasis: var(--bgColor-sponsors-emphasis);
  --color-bg-sponsors-muted: var(--bgColor-sponsors-muted);
  --color-bg-success-emphasis: var(--bgColor-success-emphasis);
  --color-bg-success-muted: var(--bgColor-success-muted);
  --color-bg-transparent: var(--bgColor-transparent);
  --color-bg-upsell-emphasis: var(--bgColor-upsell-emphasis);
  --color-bg-upsell-muted: var(--bgColor-upsell-muted);
  --color-bg-white: var(--bgColor-white);

  /* Border */
  --color-border-accent-emphasis: var(--borderColor-accent-emphasis);
  --color-border-accent-muted: var(--borderColor-accent-muted);
  --color-border-attention-emphasis: var(--borderColor-attention-emphasis);
  --color-border-attention-muted: var(--borderColor-attention-muted);
  --color-border-closed-emphasis: var(--borderColor-closed-emphasis);
  --color-border-closed-muted: var(--borderColor-closed-muted);
  --color-border-danger-emphasis: var(--borderColor-danger-emphasis);
  --color-border-danger-muted: var(--borderColor-danger-muted);
  --color-border-default: var(--borderColor-default);
  --color-border-disabled: var(--borderColor-disabled);
  --color-border-done-emphasis: var(--borderColor-done-emphasis);
  --color-border-done-muted: var(--borderColor-done-muted);
  --color-border-draft-emphasis: var(--borderColor-draft-emphasis);
  --color-border-draft-muted: var(--borderColor-draft-muted);
  --color-border-emphasis: var(--borderColor-emphasis);
  --color-border-muted: var(--borderColor-muted);
  --color-border-neutral-emphasis: var(--borderColor-neutral-emphasis);
  --color-border-neutral-muted: var(--borderColor-neutral-muted);
  --color-border-open-emphasis: var(--borderColor-open-emphasis);
  --color-border-open-muted: var(--borderColor-open-muted);
  --color-border-severe-emphasis: var(--borderColor-severe-emphasis);
  --color-border-severe-muted: var(--borderColor-severe-muted);
  --color-border-sponsors-emphasis: var(--borderColor-sponsors-emphasis);
  --color-border-sponsors-muted: var(--borderColor-sponsors-muted);
  --color-border-success-emphasis: var(--borderColor-success-emphasis);
  --color-border-success-muted: var(--borderColor-success-muted);
  --color-border-translucent: var(--borderColor-translucent);
  --color-border-transparent: var(--borderColor-transparent);
  --color-border-upsell-emphasis: var(--borderColor-upsell-emphasis);
  --color-border-upsell-muted: var(--borderColor-upsell-muted);

  /* Font family */
  --font-sans: 'LXGW WenKai Lite', ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont,
    'Segoe UI', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';
  --font-mono: 'JetBrainsMono', ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
    'Liberation Mono', 'Courier New', monospace;

  /* Animation */
  --animate-shimmer: shimmer 2s infinite linear;
  --animate-fade-in: fade-in 0.5s ease-out;
  --animate-slide-up: slide-up 0.5s ease-out;
  --animate-scale-in: scale-in 0.3s ease-out;
  --animate-logo-spin: logo-spin 59s cubic-bezier(0.34, 0, 0.84, 1) 1s forwards;

  /* Background size & images */
  --background-size-shimmer: 1000px 100%;
  --background-image-accent-gradient: var(--gradient-accent);

  /* Backdrop blur */
  --blur-xs: 2px;
  --blur-backdrop-xs: 2px;

  /* Jan.ai 品牌色 - 引用 CSS 变量以支持深色模式切换 */
  --color-jan-ink: var(--jan-ink);
  --color-jan-ink-light: var(--jan-ink-light);
  --color-jan-purple: var(--jan-purple);
  --color-jan-purple-light: var(--jan-purple-light);
  --color-jan-purple-bg: var(--jan-purple-bg);
  --color-jan-yellow: var(--jan-yellow);
  --color-jan-yellow-light: var(--jan-yellow-light);
  --color-jan-yellow-bg: var(--jan-yellow-bg);
  --color-jan-yellow-hover: var(--jan-yellow-hover);
  --color-jan-teal: var(--jan-teal);
  --color-jan-teal-light: var(--jan-teal-light);
  --color-jan-teal-bg: var(--jan-teal-bg);
  --color-jan-coral: var(--jan-coral);
  --color-jan-coral-bg: var(--jan-coral-bg);
  --color-jan-coral-hover: var(--jan-coral-hover);

  /* Shadows */
  --shadow-sm: 3px 3px 0 var(--jan-ink);
  --shadow-md: 5px 5px 0 var(--jan-ink);
  --shadow-lg: 8px 8px 0 var(--jan-ink);

  /* Breakpoints */
  --breakpoint-compact: 599px;
  --breakpoint-medium: 600px;
  --breakpoint-expanded: 840px;
}

:root,
[data-color-mode='light'] {
  --jan-ink: #1a1a1a;
  --jan-ink-light: #2d2d2d;
  --jan-purple: #7c3aed;
  --jan-purple-light: #a78bfa;
  --jan-purple-bg: #f5f3ff;
  --jan-yellow: #eab308;
  --jan-yellow-light: #fde047;
  --jan-yellow-bg: #fefce8;
  --jan-yellow-hover: rgba(234, 179, 8, 0.2);
  --jan-teal: #0d9488;
  --jan-teal-light: #5eead4;
  --jan-teal-bg: #f0fdfa;
  --jan-coral: #f43f5e;
  --jan-coral-bg: #fff1f2;
  --jan-coral-hover: rgba(244, 63, 94, 0.8);
}

[data-color-mode='dark'] {
  --jan-ink: #e5e5e5;
  --jan-ink-light: #d4d4d4;
  --jan-purple: #a78bfa;
  --jan-purple-light: #7c3aed;
  --jan-purple-bg: rgba(124, 58, 237, 0.08);
  --jan-yellow: #fde047;
  --jan-yellow-light: #eab308;
  --jan-yellow-bg: rgba(234, 179, 8, 0.06);
  --jan-yellow-hover: rgba(253, 224, 71, 0.15);
  --jan-teal: #5eead4;
  --jan-teal-light: #0d9488;
  --jan-teal-bg: rgba(13, 148, 136, 0.08);
  --jan-coral: #fb7185;
  --jan-coral-bg: rgba(244, 63, 94, 0.08);
  --jan-coral-hover: rgba(251, 113, 133, 0.8);
}

@utility card {
  background: var(--bgColor-default);
  border: 2px solid var(--color-jan-ink);
  border-radius: 1rem;
  box-shadow: 3px 3px 0 var(--color-jan-ink);
  transition: all 200ms cubic-bezier(0.33, 1, 0.68, 1);
  &:hover {
    transform: translateY(-2px);
    box-shadow: 5px 5px 0 var(--color-jan-ink);
  }
}

@utility card-interactive {
  background: var(--bgColor-default);
  border: 2px solid var(--color-jan-ink);
  border-radius: 1rem;
  box-shadow: 3px 3px 0 var(--color-jan-ink);
  transition: all 200ms cubic-bezier(0.33, 1, 0.68, 1);
  &:hover {
    transform: translateY(-3px);
    box-shadow: 5px 5px 0 var(--color-jan-ink);
  }
  &:active {
    transform: translateY(1px);
    box-shadow: 1px 1px 0 var(--color-jan-ink);
  }
}

@utility card-purple {
  background: var(--color-jan-purple-bg);
  border: 2px solid var(--color-jan-ink);
  border-radius: 1rem;
  box-shadow: 3px 3px 0 var(--color-jan-purple);
  transition: all 200ms cubic-bezier(0.33, 1, 0.68, 1);
  &:hover {
    transform: translateY(-2px);
    box-shadow: 5px 5px 0 var(--color-jan-purple);
  }
}

@utility card-yellow {
  background: var(--color-jan-yellow-bg);
  border: 2px solid var(--color-jan-ink);
  border-radius: 1rem;
  box-shadow: 3px 3px 0 var(--color-jan-yellow);
  transition: all 200ms cubic-bezier(0.33, 1, 0.68, 1);
  &:hover {
    transform: translateY(-2px);
    box-shadow: 5px 5px 0 var(--color-jan-yellow);
  }
}

@utility card-teal {
  background: var(--color-jan-teal-bg);
  border: 2px solid var(--color-jan-ink);
  border-radius: 1rem;
  box-shadow: 3px 3px 0 var(--color-jan-teal);
  transition: all 200ms cubic-bezier(0.33, 1, 0.68, 1);
  &:hover {
    transform: translateY(-2px);
    box-shadow: 5px 5px 0 var(--color-jan-teal);
  }
}

@utility prose {
  --tw-prose-body: var(--fgColor-default);
  --tw-prose-headings: var(--fgColor-default);
  --tw-prose-lead: var(--fgColor-default);
  --tw-prose-links: var(--fgColor-accent);
  --tw-prose-bold: var(--fgColor-emphasis);
  --tw-prose-counters: var(--fgColor-default);
  --tw-prose-bullets: var(--fgColor-default);
  --tw-prose-hr: var(--borderColor-emphasis);
  --tw-prose-quotes: var(--fgColor-muted);
  --tw-prose-quote-borders: var(--borderColor-muted);
  --tw-prose-captions: var(--fgColor-default);
  --tw-prose-code: var(--fgColor-severe);
  --tw-prose-pre-code: var(--codeMirror-fgColor);
  --tw-prose-pre-bg: var(--bgColor-muted);
  --tw-prose-th-borders: var(--fgColor-default);
  --tw-prose-td-borders: var(--fgColor-default);
  max-width: none;

  & :where(blockquote code) {
    color: var(--fgColor-severe);
  }

  & :where(pre) {
    overflow: initial;
  }

  & :where(pre code) {
    display: block;
    overflow-x: auto;
    padding-bottom: 0.8571429em;
  }

  & :where(strong) {
    color: var(--fgColor-emphasis);
    font-weight: 600;
  }
}
